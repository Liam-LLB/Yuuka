<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Yuugames - Hub</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b1120;
      --bg-soft: #0f172a;
      --panel: rgba(15, 23, 42, 0.88);
      --card: rgba(30, 41, 59, 0.82);
      --muted: #94a3b8;
      --text: #e2e8f0;
      --accent: #60a5fa;
      --accent-2: #a855f7;
      --accent-3: #22c55e;
      --border: rgba(148, 163, 184, 0.2);
      --success: #22c55e;
      --warning: #f97316;
      --danger: #f43f5e;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      background:
        radial-gradient(circle at 15% 25%, rgba(96, 165, 250, 0.16), transparent 28%),
        radial-gradient(circle at 80% 10%, rgba(168, 85, 247, 0.18), transparent 25%),
        linear-gradient(135deg, var(--bg) 0%, var(--bg-soft) 55%, var(--bg) 100%);
      color: var(--text);
      font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, sans-serif;
      min-height: 100vh;
    }

    .center-menu { display: flex; gap: 12px; justify-content: center; flex: 1; flex-wrap: wrap; }

    main {
      width: 100%;
      max-width: 1180px;
      margin: 0 auto;
      padding: 40px 16px 80px;
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .card {
      background: var(--card);
      border-radius: 18px;
      border: 1px solid var(--border);
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.35);
      padding: 22px;
      backdrop-filter: blur(8px);
    }

    .hero {
      background: radial-gradient(circle at 20% 30%, rgba(124, 58, 237, 0.22), transparent 35%),
                  radial-gradient(circle at 90% 10%, rgba(34, 211, 238, 0.18), transparent 32%),
                  var(--panel);
      position: relative;
      overflow: hidden;
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, rgba(255, 255, 255, 0.05), transparent 60%);
      pointer-events: none;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(124, 58, 237, 0.14);
      color: #e9d5ff;
      font-weight: 700;
      border: 1px solid rgba(124, 58, 237, 0.35);
      width: fit-content;
    }

    .hero h1 { margin: 12px 0 6px; font-size: clamp(26px, 4vw, 40px); letter-spacing: 0.4px; }
    .hero p { margin: 0 0 18px; color: var(--muted); line-height: 1.6; }

    .rule-cloud { display: grid; grid-template-columns: repeat(auto-fit, minmax(210px, 1fr)); gap: 10px; margin-top: 8px; }

    .rule-bubble {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
      border: 1px solid rgba(255, 255, 255, 0.07);
      border-radius: 16px;
      padding: 12px;
      display: flex;
      gap: 10px;
      align-items: center;
      color: #e2e8f0;
    }

    .rule-bubble i { width: 34px; height: 34px; border-radius: 12px; display: grid; place-items: center; background: rgba(124, 58, 237, 0.18); color: #e9d5ff; }
    .rule-bubble strong { display: block; font-size: 1rem; }
    .rule-bubble span { color: var(--muted); font-size: 0.95rem; }

    .metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; margin-top: 14px; }

    .metric-card { background: linear-gradient(135deg, rgba(124, 58, 237, 0.15), rgba(12, 18, 32, 0.9)); border: 1px solid rgba(124, 58, 237, 0.28); border-radius: 14px; padding: 14px; display: grid; gap: 6px; }
    .metric-card .label { color: var(--muted); font-size: 0.95rem; }
    .metric-card .value { font-size: 1.4rem; font-weight: 800; }

    .progress-bar { height: 12px; background: rgba(255, 255, 255, 0.06); border-radius: 999px; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.08); }
    .progress-fill { height: 100%; width: 0%; background: linear-gradient(90deg, #22d3ee, #a855f7); transition: width 0.35s ease; }

    .status-chip { display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px; font-weight: 700; font-size: 0.85rem; background: rgba(255, 255, 255, 0.06); color: #e2e8f0; }
    .status-chip.success { color: #bbf7d0; background: rgba(34, 197, 94, 0.12); border: 1px solid rgba(34, 197, 94, 0.4); }
    .status-chip.pending { color: #fed7aa; background: rgba(234, 179, 8, 0.1); border: 1px solid rgba(234, 179, 8, 0.3); }

    .unlock-card { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 12px; align-items: center; background: linear-gradient(135deg, rgba(34, 211, 238, 0.18), rgba(124, 58, 237, 0.2)); border: 1px solid rgba(34, 211, 238, 0.28); }
    .unlock-description { color: var(--muted); margin: 0; }

    .lock-button { width: 100%; padding: 16px 18px; border-radius: 14px; border: 1px solid rgba(255, 255, 255, 0.12); background: rgba(0, 0, 0, 0.15); color: #e2e8f0; font-weight: 800; font-size: 1rem; cursor: not-allowed; display: flex; align-items: center; justify-content: center; gap: 10px; transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease; }
    .lock-button.unlocked { background: linear-gradient(135deg, #22c55e, #0ea5e9); box-shadow: 0 12px 30px rgba(34, 197, 94, 0.4); border-color: rgba(34, 197, 94, 0.6); cursor: pointer; }
    .lock-button.unlocked:hover { transform: translateY(-2px); }

    .games-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; }

    .game-card { background: linear-gradient(135deg, rgba(124, 58, 237, 0.12), rgba(11, 18, 36, 0.95)); border: 1px solid rgba(124, 58, 237, 0.18); border-radius: 14px; padding: 16px; display: grid; gap: 8px; transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease; position: relative; overflow: hidden; }
    .game-card:hover { transform: translateY(-3px); box-shadow: 0 14px 34px rgba(0, 0, 0, 0.4); border-color: rgba(34, 211, 238, 0.35); }

    .game-top { display: flex; align-items: center; gap: 10px; }
    .game-icon { width: 42px; height: 42px; border-radius: 12px; display: grid; place-items: center; background: rgba(124, 58, 237, 0.2); color: #e9d5ff; font-size: 18px; }
    .game-card h3 { margin: 0; }
    .game-card p { margin: 0; color: var(--muted); line-height: 1.5; }

    .meta-row { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }
    .pill-small { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 999px; background: rgba(255, 255, 255, 0.06); color: #e2e8f0; font-weight: 700; font-size: 0.9rem; border: 1px solid rgba(255, 255, 255, 0.1); }

    .btn { padding: 10px 14px; border-radius: 12px; border: 1px solid rgba(124, 58, 237, 0.35); background: rgba(124, 58, 237, 0.16); color: #e2e8f0; font-weight: 700; cursor: pointer; transition: all 0.2s ease; }
    .btn:hover { background: rgba(124, 58, 237, 0.28); }
    .btn:disabled { opacity: 0.6; cursor: not-allowed; }

    .game-screen { margin-top: 10px; display: grid; gap: 12px; }
    .actions { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .badge { background: rgba(255, 255, 255, 0.08); padding: 8px 12px; border-radius: 12px; color: var(--muted); }
    .tile { padding: 16px; border-radius: 12px; border: 1px solid var(--border); background: rgba(255, 255, 255, 0.04); cursor: pointer; text-align: center; user-select: none; }

    .hero {
      background: radial-gradient(circle at 20% 30%, rgba(124, 58, 237, 0.22), transparent 35%),
                  radial-gradient(circle at 90% 10%, rgba(34, 211, 238, 0.18), transparent 32%),
                  var(--panel);
      position: relative;
      overflow: hidden;
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, rgba(255, 255, 255, 0.05), transparent 60%);
      pointer-events: none;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(124, 58, 237, 0.14);
      color: #e9d5ff;
      font-weight: 700;
      border: 1px solid rgba(124, 58, 237, 0.35);
      width: fit-content;
    }

    .hero h1 {
      margin: 12px 0 6px;
      font-size: clamp(26px, 4vw, 40px);
      letter-spacing: 0.4px;
    }

    .hero p {
      margin: 0 0 18px;
      color: var(--muted);
      line-height: 1.6;
    }

    .rule-cloud {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
      gap: 10px;
      margin-top: 8px;
    }

    .rule-bubble {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
      border: 1px solid rgba(255, 255, 255, 0.07);
      border-radius: 16px;
      padding: 12px 12px;
      display: flex;
      gap: 10px;
      align-items: center;
      color: #e2e8f0;
    }

    .rule-bubble i {
      width: 34px;
      height: 34px;
      border-radius: 12px;
      display: grid;
      place-items: center;
      background: rgba(124, 58, 237, 0.18);
      color: #e9d5ff;
    }

    .rule-bubble strong { display: block; font-size: 1rem; }
    .rule-bubble span { color: var(--muted); font-size: 0.95rem; }

    .metrics {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 12px;
      margin-top: 14px;
    }

    .metric-card {
      background: linear-gradient(135deg, rgba(124, 58, 237, 0.15), rgba(12, 18, 32, 0.9));
      border: 1px solid rgba(124, 58, 237, 0.28);
      border-radius: 14px;
      padding: 14px;
      display: grid;
      gap: 6px;
      position: relative;
    }

    .metric-card .label { color: var(--muted); font-size: 0.95rem; }
    .metric-card .value { font-size: 1.4rem; font-weight: 800; }

    .progress-bar {
      height: 12px;
      background: rgba(255, 255, 255, 0.06);
      border-radius: 999px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #22d3ee, #a855f7);
      transition: width 0.35s ease;
    }

    .status-chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 0.85rem;
      background: rgba(255, 255, 255, 0.06);
      color: #e2e8f0;
    }

    .status-chip.success { color: #bbf7d0; background: rgba(34, 197, 94, 0.12); border: 1px solid rgba(34, 197, 94, 0.4); }
    .status-chip.pending { color: #fed7aa; background: rgba(234, 179, 8, 0.1); border: 1px solid rgba(234, 179, 8, 0.3); }

    .unlock-card {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 12px;
      align-items: center;
      background: linear-gradient(135deg, rgba(34, 211, 238, 0.18), rgba(124, 58, 237, 0.2));
      border: 1px solid rgba(34, 211, 238, 0.28);
    }

    .unlock-description { color: var(--muted); margin: 0; }

    .lock-button {
      width: 100%;
      padding: 16px 18px;
      border-radius: 14px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(0, 0, 0, 0.15);
      color: #e2e8f0;
      font-weight: 800;
      font-size: 1rem;
      cursor: not-allowed;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .lock-button.unlocked {
      background: linear-gradient(135deg, #22c55e, #0ea5e9);
      box-shadow: 0 12px 30px rgba(34, 197, 94, 0.4);
      border-color: rgba(34, 197, 94, 0.6);
      cursor: pointer;
    }

    .lock-button.unlocked:hover { transform: translateY(-2px); }

    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 14px;
    }

    .game-card {
      background: linear-gradient(135deg, rgba(124, 58, 237, 0.12), rgba(11, 18, 36, 0.95));
      border: 1px solid rgba(124, 58, 237, 0.18);
      border-radius: 14px;
      padding: 16px;
      display: grid;
      gap: 8px;
      transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
      position: relative;
      overflow: hidden;
    }

    .game-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 14px 34px rgba(0, 0, 0, 0.4);
      border-color: rgba(34, 211, 238, 0.35);
    }

    .game-top {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .game-icon {
      width: 42px;
      height: 42px;
      border-radius: 12px;
      display: grid;
      place-items: center;
      background: rgba(124, 58, 237, 0.2);
      color: #e9d5ff;
      font-size: 18px;
    }

    .game-card h3 { margin: 0; }
    .game-card p { margin: 0; color: var(--muted); line-height: 1.5; }

    .meta-row {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .pill-small {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.06);
      color: #e2e8f0;
      font-weight: 700;
      font-size: 0.9rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .btn {
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid rgba(124, 58, 237, 0.35);
      background: rgba(124, 58, 237, 0.16);
      color: #e2e8f0;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn:hover { background: rgba(124, 58, 237, 0.28); }
    .btn:disabled { opacity: 0.6; cursor: not-allowed; }

    .game-screen {
      margin-top: 10px;
      display: grid;
      gap: 10px;
    }

    .actions { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .badge { background: rgba(255, 255, 255, 0.08); padding: 8px 12px; border-radius: 12px; color: var(--muted); }
    .tile { padding: 16px; border-radius: 12px; border: 1px solid var(--border); background: rgba(255, 255, 255, 0.04); cursor: pointer; text-align: center; }
    .tile.active { background: rgba(34, 211, 238, 0.2); border-color: rgba(34, 211, 238, 0.6); }
    .tile.correct { background: rgba(34, 197, 94, 0.18); border-color: rgba(34, 197, 94, 0.6); }
    .tile.wrong { background: rgba(239, 68, 68, 0.18); border-color: rgba(239, 68, 68, 0.6); }

    .board { display: grid; grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); gap: 10px; }
    .game-block input { width: 100%; padding: 12px 10px; border-radius: 12px; border: 1px solid var(--border); background: rgba(255, 255, 255, 0.04); color: var(--text); }

    .difficulty { display: inline-flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .difficulty label { display: inline-flex; gap: 6px; align-items: center; background: rgba(255, 255, 255, 0.05); padding: 6px 10px; border-radius: 10px; border: 1px solid rgba(255, 255, 255, 0.08); }
    .difficulty label.locked { opacity: 0.45; position: relative; cursor: not-allowed; }
    .difficulty label.locked::after { content: "üîí"; font-size: 0.85rem; margin-left: 6px; }
    .difficulty .caution { background: rgba(249, 115, 22, 0.2); border-color: rgba(249, 115, 22, 0.5); color: #fed7aa; }

    .hidden { display: none; }
    .note { color: var(--muted); margin: 0; }

    .game-block input { width: 100%; padding: 12px 10px; border-radius: 12px; border: 1px solid var(--border); background: rgba(255, 255, 255, 0.04); color: var(--text); }

    .reward { background: linear-gradient(120deg, rgba(34, 197, 94, 0.15), rgba(14, 165, 233, 0.15)); border: 1px solid rgba(34, 197, 94, 0.35); color: #dcfce7; text-align: center; }

    .pigeon-zone { width: 220px; height: 220px; border-radius: 16px; background: radial-gradient(circle at 40% 30%, rgba(34, 211, 238, 0.12), rgba(124, 58, 237, 0.16)); border: 1px solid rgba(124, 58, 237, 0.28); display: grid; place-items: center; position: relative; cursor: pointer; overflow: hidden; }
    .pigeon-emoji { font-size: 84px; filter: drop-shadow(0 6px 12px rgba(0,0,0,0.35)); transition: transform 0.2s ease; }
    .pigeon-zone:hover .pigeon-emoji { transform: translateY(-4px) scale(1.02); }
    .tap-hand { position: absolute; font-size: 30px; opacity: 0; transform: scale(0.8); pointer-events: none; animation: tap 0.45s ease; }
    @keyframes tap { 0% { opacity: 0; transform: scale(0.7); } 30% { opacity: 1; transform: scale(1); } 100% { opacity: 0; transform: scale(0.7); } }

    .soupe-visual { display: flex; align-items: flex-end; gap: 18px; margin: 12px 0; }
    .soupe-girl { font-size: 62px; line-height: 1; transform-origin: center bottom; transform: translateY(10px) scale(var(--growth-scale, 1)); transition: transform 0.35s ease; filter: drop-shadow(0 4px 10px rgba(0,0,0,0.25)); }
    .soupe-bowl { font-size: 48px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 10px 14px; border-radius: 14px; cursor: pointer; position: relative; }
    .soupe-bowl::after { content: "Tapote pour boire"; position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%); font-size: 12px; color: #cbd5e1; opacity: 0.75; }
    .soupe-girl.drinking, .soupe-bowl.drinking { animation: sip 0.5s ease; }
    @keyframes sip { 0% { transform: translateY(10px) scale(var(--growth-scale, 1)) rotate(0deg); } 40% { transform: translateY(2px) scale(calc(var(--growth-scale, 1) * 1.02)) rotate(-4deg); } 100% { transform: translateY(10px) scale(var(--growth-scale, 1)); } }

    .dev-button {
      position: fixed;
      right: 14px;
      bottom: 14px;
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      background: rgba(255, 255, 255, 0.06);
      color: #cbd5e1;
      cursor: pointer;
      opacity: 0.55;
      transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .dev-button:hover { opacity: 1; transform: translateY(-2px); }

    select {
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid var(--border);
      color: var(--text);
      border-radius: 10px;
      padding: 8px 10px;
    }

    @media (max-width: 900px) {
      nav { flex-wrap: wrap; gap: 8px; }
      nav a { width: 100%; text-align: center; background: rgba(255,255,255,0.04); }
      .center-menu { width: 100%; flex-direction: column; }
      main { padding: 26px 12px 60px; }
      .card { padding: 18px; }
      .games-grid, .metrics { grid-template-columns: 1fr; }
      .actions { flex-direction: column; align-items: stretch; }
      .actions .btn, .actions select, .difficulty label { width: 100%; text-align: center; justify-content: center; }
      .difficulty { flex-direction: column; align-items: stretch; }
      .pigeon-zone { width: 100%; max-width: 260px; margin: 0 auto; }
    }

    @media (max-width: 768px) {
      body { padding-top: 0; }

      nav {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        flex-wrap: nowrap;
        padding: 14px 16px;
        overflow-x: auto;
      }

      .center-menu {
        flex-direction: row;
        flex-wrap: nowrap;
        overflow-x: auto;
        gap: 10px;
        padding: 4px 0;
      }

      .center-menu::-webkit-scrollbar { display: none; }
      .center-menu { scrollbar-width: none; -ms-overflow-style: none; }
      .site-nav a { white-space: nowrap; width: auto; }
      main { padding-top: 100px; }
    }
  </style>
</head>
<body data-page="Yuukajeux">
  <header class="site-nav">
    <div class="nav-inner">
      <a class="brand" href="index.html"><i class="fa-solid fa-sparkles"></i> Yuukonline</a>
      <div class="nav-links">
        <a href="bouton1.html"><i class="fa-solid fa-camera-retro"></i> Yuukalerie</a>
        <a href="bouton2.html"><i class="fa-solid fa-music"></i> Yuusiques</a>
        <a href="bouton3.html"><i class="fa-solid fa-mars"></i> Yuugars</a>
        <a href="bouton4.html"><i class="fa-solid fa-heart"></i> Yuukafe place</a>
        <a href="bouton5.html"><i class="fa-solid fa-calendar"></i> Yuukalendrier</a>
        <a href="bouton6.html"><i class="fa-solid fa-gamepad"></i> Yuukajeux</a>
        <a href="bouton7.html"><i class="fa-solid fa-cubes"></i> Bouton 7</a>
        <a href="finale.html"><i class="fa-solid fa-trophy"></i> Finale</a>
      </div>
      <div class="nav-actions">
        <span class="user-chip" data-user-chip>Invit√©</span>
        <button class="btn ghost profile-trigger" type="button" data-account-trigger>
          <i class="fa-solid fa-user"></i>
          <span data-profile-trigger-label>Se connecter</span>
        </button>
      </div>
    </div>
  </header>

  <main>
    <section class="card hero">
      <div class="pill"><i class="fas fa-sparkles"></i> Page 6 ‚Ä¢ Hub Yuugames</div>
      <h1>Bienvenue dans le Yuugames</h1>
      <p>12 mini-jeux, 3 niveaux de difficult√© chacun : il faut les r√©ussir dans l‚Äôordre (facile ‚Üí normal ‚Üí difficile) pour valider un jeu.</p>
      <p>Dans l‚Äôesprit du Yuukonline, tout est chaleureux et simple : choisis un d√©fi, progresse palier apr√®s palier et vois ta barre se remplir.</p>

      <div class="rule-cloud">
        <div class="rule-bubble">
          <i class="fas fa-flag-checkered"></i>
          <div><strong>12 d√©fis √† valider</strong><span>Chaque mini-jeu doit √™tre enti√®rement compl√©t√© (facile ‚Üí difficile).</span></div>
        </div>
        <div class="rule-bubble">
          <i class="fas fa-sliders-h"></i>
          <div><strong>3 niveaux</strong><span>Facile pour d√©marrer, difficile pour briller.</span></div>
        </div>
        <div class="rule-bubble">
          <i class="fas fa-microchip"></i>
          <div><strong>Progression locale</strong><span>Validations sauvegard√©es dans ton navigateur.</span></div>
        </div>
          <div class="rule-bubble">
            <i class="fas fa-gauge-high"></i>
            <div><strong>Barre de progression</strong><span>Remplis-la √† 100% pour d√©verrouiller la r√©compense finale.</span></div>
          </div>
        <div class="rule-bubble">
          <i class="fas fa-lock"></i>
          <div><strong>Progression s√©quenc√©e</strong><span>Chaque mode difficile se d√©bloque seulement si le niveau pr√©c√©dent est gagn√©.</span></div>
        </div>
      </div>

      <div class="metrics">
        <div class="metric-card">
          <div class="label">Nombre de niveaux termin√©s</div>
          <div class="value" id="levelsCount">0 / 36</div>
          <div class="status-chip" id="completedGames">Nombre de niveaux termin√©s : 0 / 36</div>
        </div>
        <div class="metric-card">
          <div class="label">Progression globale</div>
          <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
          <div class="value" id="progressText">0%</div>
        </div>
        <div class="metric-card">
          <div class="label">R√©compense</div>
          <div class="value" id="rewardStatus">Bloqu√©e</div>
          <div class="status-chip pending" id="rewardHint"><i class="fas fa-lock"></i> Termine tout pour d√©verrouiller</div>
        </div>
      </div>
    </section>

    <section class="card unlock-card">
      <div>
        <h2 style="margin: 0 0 6px">Portail final</h2>
        <p class="unlock-description">Quand les douze mini-jeux sont gagn√©s, le bouton se d√©verrouille et t‚Äôemm√®ne vers la page finale.</p>
        <p class="note" id="unlockNote">Encore quelques victoires avant l‚Äôouverture.</p>
      </div>
      <button class="lock-button" id="finalButton" disabled>
        <i class="fas fa-lock"></i>
        <span>Portail verrouill√©</span>
      </button>
    </section>

    <section class="games-grid" id="hubView">
      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-bolt"></i></div>
          <div>
            <h3>YuukaFlash</h3>
            <p>R√©flexe √©clair : clique d√®s que le signal appara√Æt.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="pill-small">Parcours en 3 √©tapes</span>
          <span class="status-chip pending" id="status-reflex">√Ä valider</span>
          <span class="pill-small" id="best-reflex">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="reflex">Acc√©der au mini-jeu</button>
      </article>

      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-brain"></i></div>
          <div>
            <h3>Yuukolor</h3>
            <p>M√©moire chroma : reproduis la s√©quence.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="pill-small">Parcours en 3 √©tapes</span>
          <span class="status-chip pending" id="status-memory">√Ä valider</span>
          <span class="pill-small" id="best-memory">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="memory">Acc√©der au mini-jeu</button>
      </article>

      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-question-circle"></i></div>
          <div>
            <h3>Yuukwizz</h3>
            <p>Mini-quiz express.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="pill-small">Parcours en 3 √©tapes</span>
          <span class="status-chip pending" id="status-quiz">√Ä valider</span>
          <span class="pill-small" id="best-quiz">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="quiz">Acc√©der au mini-jeu</button>
      </article>

      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-font"></i></div>
          <div>
            <h3>Yuukagram</h3>
            <p>R√©arrange les lettres pour trouver le mot myst√®re.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="pill-small">Parcours en 3 √©tapes</span>
          <span class="status-chip pending" id="status-anagram">√Ä valider</span>
          <span class="pill-small" id="best-anagram">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="anagram">Acc√©der au mini-jeu</button>
      </article>

      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-key"></i></div>
          <div>
            <h3>Yuukode</h3>
            <p>Devine le code secret en un minimum d‚Äôessais.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="pill-small">Parcours en 3 √©tapes</span>
          <span class="status-chip pending" id="status-code">√Ä valider</span>
          <span class="pill-small" id="best-code">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="code">Acc√©der au mini-jeu</button>
      </article>

      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-hand-pointer"></i></div>
          <div>
            <h3>Yuukadash</h3>
            <p>Clicker : fais un maximum de clics en 10s.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="status-chip pending" id="status-clicker">√Ä valider</span>
          <span class="pill-small" id="best-clicker">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="clicker">Acc√©der au mini-jeu</button>
      </article>

      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-landmark"></i></div>
          <div>
            <h3>Yuuk√©blique Fran√ßaise</h3>
            <p>Replace les pr√©sidents de la V·µâ R√©publique dans l‚Äôordre.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="status-chip pending" id="status-presidents">√Ä valider</span>
          <span class="pill-small" id="best-presidents">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="presidents">Acc√©der au mini-jeu</button>
      </article>

      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-horse"></i></div>
          <div>
            <h3>Yuukquine</h3>
            <p>Choisis l‚Äôallure adapt√©e selon les situations d‚Äô√©quitation.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="status-chip pending" id="status-equitation">√Ä valider</span>
          <span class="pill-small" id="best-equitation">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="equitation">Acc√©der au mini-jeu</button>
      </article>

      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-book-open"></i></div>
          <div>
            <h3>Yuutana</h3>
            <p>QCM de situations : reste classe ou deviens une ¬´ tana ¬ª.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="status-chip pending" id="status-tana">√Ä valider</span>
          <span class="pill-small" id="best-tana">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="tana">Acc√©der au mini-jeu</button>
      </article>

      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-utensil-spoon"></i></div>
          <div>
            <h3>Yuukroissance</h3>
            <p>Fais manger la soupe pour faire grandir le personnage.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="status-chip pending" id="status-soupe">√Ä valider</span>
          <span class="pill-small" id="best-soupe">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="soupe">Acc√©der au mini-jeu</button>
      </article>

      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-dove"></i></div>
          <div>
            <h3>Yuugeon</h3>
            <p>Caresse le pigeon jusqu‚Äô√† ce qu‚Äôil roucoule de joie.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="status-chip pending" id="status-pigeon">√Ä valider</span>
          <span class="pill-small" id="best-pigeon">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="pigeon">Acc√©der au mini-jeu</button>
      </article>

      <article class="game-card">
        <div class="game-top">
          <div class="game-icon"><i class="fas fa-music"></i></div>
          <div>
            <h3>Yuuktempo</h3>
            <p>Arr√™te le chronom√®tre au tempo indiqu√©.</p>
          </div>
        </div>
        <div class="meta-row">
          <span class="pill-small">3 difficult√©s</span>
          <span class="status-chip pending" id="status-tempo">√Ä valider</span>
          <span class="pill-small" id="best-tempo">Progression : 0 / 3</span>
        </div>
        <button class="btn" data-game="tempo">Acc√©der au mini-jeu</button>
      </article>
    </section>

    <!-- √âcrans de jeux -->
    <section class="card game-screen hidden" id="screen-reflex">
      <div class="actions">
        <button class="btn" id="backFromReflex"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">R√©flexe √©clair</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="reflex-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="reflex-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="reflex-difficulty" value="difficile" /> Difficile</label>
        <span class="pill-small">Seuils : 900 / 650 / 450 ms</span>
      </div>
      <p>Attends le signal bleu et clique imm√©diatement.</p>
      <div class="actions">
        <button class="btn" id="reflexStart">Lancer</button>
        <span id="reflexStatus" class="status-chip pending">En attente</span>
      </div>
      <div id="reflexTarget" class="tile">Attends le signal‚Ä¶</div>
      <div class="pill-small" id="reflexScore">Progression : 0 / 3 niveaux</div>
    </section>

    <section class="card game-screen hidden" id="screen-memory">
      <div class="actions">
        <button class="btn" id="backFromMemory"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">M√©moire chroma</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="memory-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="memory-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="memory-difficulty" value="difficile" /> Difficile</label>
        <span class="pill-small">S√©quences : 4 / 6 / 8 couleurs</span>
      </div>
      <p>Observe la s√©quence, puis reproduis-la.</p>
      <div class="actions">
        <button class="btn" id="memoryStart">Montrer la s√©quence</button>
        <span id="memoryStatus" class="status-chip pending">En attente</span>
      </div>
      <div class="board" id="memoryBoard">
        <div class="tile" data-color="cyan">Cyan</div>
        <div class="tile" data-color="rose">Rose</div>
        <div class="tile" data-color="indigo">Indigo</div>
        <div class="tile" data-color="lime">Lime</div>
      </div>
      <div class="pill-small" id="memoryScore">Progression : 0 / 3 niveaux</div>
    </section>

    <section class="card game-screen hidden" id="screen-quiz">
      <div class="actions">
        <button class="btn" id="backFromQuiz"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">Mini-quiz</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="quiz-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="quiz-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="quiz-difficulty" value="difficile" /> Difficile</label>
      </div>
      <p>R√©ponds correctement aux questions.</p>
      <div class="actions">
        <span class="pill-small">Sans faute pour valider</span>
      </div>
      <h2>Yuukwizz</h2>
      <p>R√©ponds correctement aux questions demand√©es.</p>
      <div id="quizArea">
        <div id="quizQuestion">Pr√™t √† commencer ?</div>
        <div class="actions" id="quizOptions"></div>
      </div>
      <div class="actions">
        <button class="btn" id="quizStart">D√©marrer le quiz</button>
        <span id="quizStatus" class="status-chip pending">En attente</span>
      </div>
      <div class="pill-small" id="quizScore">Progression : 0 / 3 niveaux</div>
    </section>

    <section class="card game-screen hidden" id="screen-anagram">
      <div class="actions">
        <button class="btn" id="backFromAnagram"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">Anagrammes</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="anagram-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="anagram-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="anagram-difficulty" value="difficile" /> Difficile</label>
        <span class="pill-small">2 / 3 / 4 mots √† trouver</span>
      </div>
      <p>R√©arrange les lettres pour retrouver le mot Yuuka cach√©.</p>
      <div class="game-block">
        <div class="badge" id="anagramScramble">YUUKA</div>
        <input id="anagramInput" type="text" placeholder="Ta r√©ponse" />
        <div class="actions">
          <button class="btn" id="anagramCheck">Valider</button>
          <button class="btn" id="anagramNext">Nouvelle grille</button>
        </div>
        <div class="status-chip pending" id="anagramStatus">En attente</div>
        <div class="pill-small" id="anagramScore">Progression : 0 / 3 niveaux</div>
      </div>
    </section>

    <section class="card game-screen hidden" id="screen-code">
      <div class="actions">
        <button class="btn" id="backFromCode"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">Code secret</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="code-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="code-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="code-difficulty" value="difficile" /> Difficile</label>
      </div>
      <p>Devine le code secret : la plage de valeurs s‚Äô√©largit √† chaque niveau.</p>
      <h2>Yuukode</h2>
      <p>Tu as quelques essais pour trouver la bonne valeur.</p>
      <div class="game-block">
        <input id="codeInput" type="number" min="1" max="25" placeholder="1-25" />
        <div class="actions">
          <button class="btn" id="codeTry">Proposer</button>
          <button class="btn" id="codeRestart">Nouveau code</button>
        </div>
        <div class="status-chip pending" id="codeStatus">En attente</div>
        <div class="pill-small" id="codeScore">Progression : 0 / 3 niveaux</div>
      </div>
    </section>

    <section class="card game-screen hidden" id="screen-clicker">
      <div class="actions">
        <button class="btn" id="backFromClicker"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">Clicker</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="clicker-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="clicker-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="clicker-difficulty" value="difficile" /> Difficile</label>
        <span class="pill-small">Objectifs : 18 / 30 / 42 clics</span>
      </div>
      <p>Tu as 10 secondes pour cliquer un maximum de fois.</p>
      <div class="game-block">
        <div class="badge" id="clickerTimer">10s</div>
        <div class="badge" id="clickerCount">0 clic</div>
        <div class="actions">
          <button class="btn" id="clickerStart">Lancer</button>
          <button class="btn" id="clickerTap">Clique ici</button>
        </div>
        <div class="status-chip pending" id="clickerStatus">En attente</div>
        <div class="pill-small" id="clickerScore">Progression : 0 / 3 niveaux</div>
      </div>
    </section>

    <section class="card game-screen hidden" id="screen-presidents">
      <div class="actions">
        <button class="btn" id="backFromPresidents"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">Chronologie des pr√©sidents</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="presidents-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="presidents-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="presidents-difficulty" value="difficile" /> Difficile</label>
      </div>
      <p>Attribue l‚Äôordre, puis relie qui succ√®de ou pr√©c√®de qui (selon la difficult√©).</p>
      <div id="presidentList"></div>
      <div class="actions">
        <button class="btn" id="presidentCheck">V√©rifier</button>
        <span class="status-chip pending" id="presidentStatus">En attente</span>
      </div>
      <div class="pill-small" id="presidentScore">Progression : 0 / 3 niveaux</div>
    </section>

    <section class="card game-screen hidden" id="screen-equitation">
      <div class="actions">
        <button class="btn" id="backFromEquitation"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">Sc√©narios d‚Äô√©quitation</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="equitation-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="equitation-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="equitation-difficulty" value="difficile" /> Difficile</label>
      </div>
      <p>Choisis l‚Äôallure adapt√©e pour chaque situation.</p>
      <div class="badge" id="equitationPrompt">Clique sur ¬´ D√©marrer ¬ª</div>
      <div class="actions">
        <button class="btn" id="equitationStart">D√©marrer</button>
        <button class="btn" data-gait="Pas">Pas</button>
        <button class="btn" data-gait="Trot">Trot</button>
        <button class="btn" data-gait="Galop">Galop</button>
      </div>
      <div class="status-chip pending" id="equitationStatus">En attente</div>
      <div class="pill-small" id="equitationScore">Progression : 0 / 3 niveaux</div>
    </section>

    <section class="card game-screen hidden" id="screen-tana">
      <div class="actions">
        <button class="btn" id="backFromTana"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">Yuutana</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="tana-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="tana-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="tana-difficulty" value="difficile" /> Difficile</label>
      </div>
      <p>R√©ponds aux mises en situation. En cas de mauvais choix : ¬´ nan l√† t‚Äôes une grosse tana ahah ¬ª.</p>
      <div class="badge" id="tanaQuestion">Clique sur d√©marrer</div>
      <div class="actions" id="tanaOptions"></div>
      <div class="actions">
        <button class="btn" id="tanaStart">D√©marrer</button>
        <span class="status-chip pending" id="tanaStatus">En attente</span>
      </div>
      <div class="pill-small" id="tanaScore">Progression : 0 / 3 niveaux</div>
    </section>

    <section class="card game-screen hidden" id="screen-soupe">
      <div class="actions">
        <button class="btn" id="backFromSoupe"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">Yuukroissance</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="soupe-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="soupe-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="soupe-difficulty" value="difficile" /> Difficile</label>
      </div>
      <p>Donne des cuill√®res de soupe pour faire grandir le personnage.</p>
      <div class="badge" id="soupeHeight">Taille actuelle : 1.30 m</div>
      <div class="badge" id="soupeInfo">Objectif affich√© apr√®s avoir choisi la difficult√©.</div>
      <div class="soupe-visual">
        <span class="soupe-girl" id="soupeGirl" aria-label="Personnage qui grandit">üëß</span>
        <span class="soupe-bowl" id="soupeBowl" role="img" aria-label="Bol de soupe">ü•£</span>
      </div>
      <div class="actions">
        <button class="btn" id="soupeFeed">Donner une cuill√®re</button>
        <button class="btn" id="soupeReset">R√©initialiser</button>
      </div>
      <div class="status-chip pending" id="soupeStatus">En attente</div>
      <div class="pill-small" id="soupeScore">Progression : 0 / 3 niveaux</div>
    </section>

    <section class="card game-screen hidden" id="screen-pigeon">
      <div class="actions">
        <button class="btn" id="backFromPigeon"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">Yuugeon</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="pigeon-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="pigeon-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="pigeon-difficulty" value="difficile" /> Difficile</label>
      </div>
      <p>Caresse le pigeon le nombre de fois requis.</p>
      <div class="badge" id="pigeonCoo">Le pigeon t‚Äôobserve.</div>
      <div class="pigeon-zone" id="pigeonZone" aria-label="Pigeon √† tapoter">
        <span class="pigeon-emoji" role="img" aria-label="Pigeon">üïäÔ∏è</span>
      </div>
      <p class="note">Clique directement sur le pigeon : une main appara√Ætra l√† o√π tu le tapotes.</p>
      <div class="actions">
        <button class="btn" id="pigeonPet">Compter un tapotement</button>
        <button class="btn" id="pigeonReset">R√©initialiser</button>
      </div>
      <div class="status-chip pending" id="pigeonStatus">En attente</div>
      <div class="pill-small" id="pigeonScore">Progression : 0 / 3 niveaux</div>
    </section>

    <section class="card game-screen hidden" id="screen-tempo">
      <div class="actions">
        <button class="btn" id="backFromTempo"><i class="fas fa-chevron-left"></i> Retour au hub</button>
        <span class="pill-small">Timing</span>
      </div>
      <div class="difficulty">
        <label><input type="radio" name="tempo-difficulty" value="facile" checked /> Facile</label>
        <label><input type="radio" name="tempo-difficulty" value="normal" /> Normal</label>
        <label><input type="radio" name="tempo-difficulty" value="difficile" /> Difficile</label>
      </div>
      <p>Arr√™te le chronom√®tre le plus proche possible du tempo cible.</p>
      <div class="badge" id="tempoTarget">Tempo cible : 2.5s</div>
      <div class="actions">
        <button class="btn" id="tempoToggle">D√©marrer</button>
      </div>
      <div class="status-chip pending" id="tempoStatus">En attente</div>
      <div class="pill-small" id="tempoScore">Progression : 0 / 3 niveaux</div>
    </section>

    <section class="card reward hidden" id="rewardCard">
      <h2>R√©compense d√©bloqu√©e</h2>
      <p>Bravo, tu as valid√© tous les mini-jeux. Le portail final est d√©sormais ouvert.</p>
    </section>
  </main>

  <button class="dev-button" id="devButton" title="Mode d√©veloppeur">
    <i class="fas fa-user-gear"></i>
  </button>

  <div class="account-overlay" data-account-modal>
    <div class="account-panel">
      <button class="modal-close" type="button" data-account-close aria-label="Fermer">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <div class="account-header">
        <span class="eyebrow"><i class="fa-solid fa-user-astronaut"></i> Centre de connexion</span>
        <h2 class="section-title">Espace compte</h2>
        <p class="subtitle">Connexion Google, statut en ligne et historique de navigation r√©unis ici.</p>
      </div>
      <div class="account-grid">
        <div class="card-tile depth-card">
          <span class="badge">Profil</span>
          <strong data-profile-name>Invit√©</strong>
          <span class="subtitle" data-profile-email>Connecte-toi avec Google.</span>
        </div>
        <div class="card-tile depth-card">
          <span class="badge">√âtat</span>
          <strong data-account-state>Invit√©</strong>
          <span class="subtitle">Synchronisation disponible apr√®s connexion.</span>
        </div>
        <div class="card-tile depth-card">
          <span class="badge">Derni√®re actualisation</span>
          <strong id="progressPage">-</strong>
          <span class="subtitle">Mise √† jour : <span id="progressTime">-</span></span>
        </div>
        <div class="card-tile depth-card">
          <span class="badge">Statut de sync</span>
          <strong id="progressStatus">Local</strong>
          <span class="subtitle">Passe en ligne d√®s la connexion.</span>
        </div>
      </div>
      <div class="account-actions">
        <div id="authMessage" class="alert">Bienvenue ! Connecte-toi avec Google pour synchroniser ta progression.</div>
        <div class="form-grid">
          <button type="button" class="btn" data-google-signin><i class="fa-brands fa-google"></i> Se connecter avec Google</button>
          <button class="btn ghost" type="button" data-signout><i class="fa-solid fa-arrow-right-from-bracket"></i> Se d√©connecter</button>
        </div>
        <div class="card-tile depth-card">
          <span class="badge">Compte connect√©</span>
          <strong id="userEmail">Aucun compte connect√©</strong>
          <span class="subtitle">Connexion Google requise pour la sauvegarde.</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    const STORAGE_KEY = "yuugamesProgress";
    const difficultySettings = {
      facile: { label: "Facile", bonus: 1, tolerance: "large" },
      normal: { label: "Normal", bonus: 1.2, tolerance: "moyenne" },
      difficile: { label: "Difficile", bonus: 1.45, tolerance: "serr√©e" },
    };
    const difficultyOrder = ["facile", "normal", "difficile"];

    const games = {
      reflex: { name: "YuukaFlash", max: 30 },
      memory: { name: "Yuukolor", max: 25 },
      quiz: { name: "Yuukwizz", max: 30 },
      anagram: { name: "Yuukagram", max: 25 },
      code: { name: "Yuukode", max: 25 },
      clicker: { name: "Yuukadash", max: 30 },
      presidents: { name: "Yuuk√©blique Fran√ßaise", max: 35 },
      equitation: { name: "Yuukquine", max: 25 },
      tana: { name: "Yuutana", max: 30 },
      soupe: { name: "Yuukroissance", max: 20 },
      pigeon: { name: "Yuugeon", max: 15 },
      tempo: { name: "Yuuktempo", max: 25 },
    };

    const defaultTiers = () => {
      const entry = {};
      Object.keys(games).forEach(key => {
        entry[key] = { facile: false, normal: false, difficile: false };
      });
      return entry;
    };

    let state = {
      completed: Object.fromEntries(Object.keys(games).map(k => [k, null])),
      tiers: defaultTiers(),
    };

    const totalGames = Object.keys(games).length;

    function loadState() {
      const stored = localStorage.getItem(STORAGE_KEY);
      if (stored) {
        try {
          const parsed = JSON.parse(stored);
          state = { ...state, ...parsed };
        } catch (_) { /* ignore */ }
      }
      // ensure structure
      for (const key of Object.keys(games)) {
        if (!(key in state.completed)) state.completed[key] = null;
        if (!state.tiers[key]) state.tiers[key] = { ...defaultTiers()[key] };
        else state.tiers[key] = { ...defaultTiers()[key], ...state.tiers[key] };
        if (state.completed[key] && difficultyOrder.includes(state.completed[key])) {
          const idx = difficultyOrder.indexOf(state.completed[key]);
          for (let i = 0; i <= idx; i++) state.tiers[key][difficultyOrder[i]] = true;
        }
      }
    }

    function saveState() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
    }

    const rewardStatus = document.getElementById("rewardStatus");
    const rewardHint = document.getElementById("rewardHint");
    const rewardCard = document.getElementById("rewardCard");
    const finalButton = document.getElementById("finalButton");
    const unlockNote = document.getElementById("unlockNote");
    const devButton = document.getElementById("devButton");

    function resetAllGames() {
      state = {
        completed: Object.fromEntries(Object.keys(games).map(k => [k, null])),
        tiers: defaultTiers(),
      };
      saveState();
      updateScoreboard();
      showHub();
      alert("Progression r√©initialis√©e : tous les niveaux sont √† refaire.");
    }

    function unlockAllGames() {
      Object.keys(games).forEach(key => {
        state.tiers[key] = { facile: true, normal: true, difficile: true };
        state.completed[key] = "difficile";
      });
      saveState();
      updateScoreboard();
    }

    function isDifficultyUnlocked(gameKey, diffKey) {
      if (diffKey === "facile") return true;
      const prevIndex = difficultyOrder.indexOf(diffKey) - 1;
      const prevKey = difficultyOrder[Math.max(prevIndex, 0)];
      return Boolean(state.tiers[gameKey]?.[prevKey]);
    }

    function highestCleared(gameKey) {
      const tiers = state.tiers[gameKey] || {};
      for (let i = difficultyOrder.length - 1; i >= 0; i--) {
        if (tiers[difficultyOrder[i]]) return difficultyOrder[i];
      }
      return null;
    }

    function isGameFullyCompleted(gameKey) {
      const tiers = state.tiers[gameKey] || {};
      return difficultyOrder.every(level => tiers[level]);
    }

    function clearedLevelsCount(gameKey) {
      const tiers = state.tiers[gameKey] || {};
      return difficultyOrder.filter(level => tiers[level]).length;
    }

    function progressionLabel(gameKey) {
      const count = clearedLevelsCount(gameKey);
      return `${count} / ${difficultyOrder.length} niveau${count > 1 ? "x" : ""} termin√©s`;
    }

    function nextPendingDifficulty(gameKey) {
      const tiers = state.tiers[gameKey] || {};
      return difficultyOrder.find(level => !tiers[level]) || null;
    }

    function nextDifficultyLabel(gameKey) {
      const tiers = state.tiers[gameKey] || {};
      for (const level of difficultyOrder) {
        if (!tiers[level]) return difficultySettings[level].label;
      }
      return difficultySettings.difficile.label;
    }

    function completedLabel(gameKey) {
      if (isGameFullyCompleted(gameKey)) return "Valid√© (Difficile)";
      const highest = highestCleared(gameKey);
      return highest ? `Valid√© (${difficultySettings[highest].label})` : "√Ä valider";
    }

    function updateCardState(key) {
      const statusChip = document.getElementById(`status-${key}`);
      const bestChip = document.getElementById(`best-${key}`);
      if (statusChip) {
        if (isGameFullyCompleted(key)) {
          statusChip.textContent = completedLabel(key);
          statusChip.classList.add("success");
          statusChip.classList.remove("pending");
        } else {
          statusChip.textContent = `Prochain : ${nextDifficultyLabel(key)}`;
          statusChip.classList.add("pending");
          statusChip.classList.remove("success");
        }
      }
      if (bestChip) bestChip.textContent = `Progression : ${progressionLabel(key)}`;
    }

    function updateDifficultyLocks(gameKey) {
      const radios = Array.from(document.querySelectorAll(`input[name="${gameKey}-difficulty"]`));
      const target = nextPendingDifficulty(gameKey);
      const fullyDone = !target;
      radios.forEach(r => {
        const label = r.closest("label");
        const unlocked = isDifficultyUnlocked(gameKey, r.value);
        const allowed = fullyDone ? unlocked : (unlocked && r.value === target);
        r.disabled = !allowed;
        if (label) label.classList.toggle("locked", !allowed);
      });
      const selected = radios.find(r => r.checked);
      if (!selected || selected.disabled) {
        const firstUnlocked = radios.find(r => !r.disabled);
        if (firstUnlocked) firstUnlocked.checked = true;
      }
    }

    function onDifficultyChange(gameKey, callback) {
      document.querySelectorAll(`input[name="${gameKey}-difficulty"]`).forEach(radio => {
        radio.addEventListener("change", () => {
          updateDifficultyLocks(gameKey);
          if (callback) callback();
        });
      });
    }

    function updateScoreboard() {
      const totalLevels = totalGames * difficultyOrder.length;
      const completedLevels = Object.keys(games).reduce((acc, key) => acc + clearedLevelsCount(key), 0);
      const completedGames = Object.keys(games).filter(isGameFullyCompleted).length;
      const progress = Math.round((completedLevels / totalLevels) * 100);

      document.getElementById("levelsCount").textContent = `${completedLevels} / ${totalLevels}`;
      document.getElementById("completedGames").textContent = `Nombre de niveaux termin√©s : ${completedLevels} / ${totalLevels}`;
      document.getElementById("progressText").textContent = `${progress}%`;
      document.getElementById("progressFill").style.width = `${progress}%`;

      if (completedGames === totalGames) {
        rewardStatus.textContent = "D√©bloqu√©e";
        rewardStatus.classList.add("success");
        rewardStatus.classList.remove("pending");
        rewardHint.innerHTML = '<i class="fas fa-unlock"></i> Pr√™t pour la page finale';
        rewardHint.classList.add("success");
        rewardHint.classList.remove("pending");
        rewardCard.classList.remove("hidden");
        finalButton.disabled = false;
        finalButton.classList.add("unlocked");
        finalButton.innerHTML = '<i class="fas fa-unlock"></i><span>Acc√©der √† la page finale</span>';
        unlockNote.textContent = "Tout est valid√©, tu peux ouvrir le portail.";
      } else {
        rewardStatus.textContent = "Bloqu√©e";
        rewardStatus.classList.remove("success");
        rewardHint.innerHTML = '<i class="fas fa-lock"></i> Termine tout pour d√©verrouiller';
        rewardHint.classList.add("pending");
        rewardCard.classList.add("hidden");
        finalButton.disabled = true;
        finalButton.classList.remove("unlocked");
        finalButton.innerHTML = '<i class="fas fa-lock"></i><span>Portail verrouill√©</span>';
        unlockNote.textContent = "Encore quelques victoires avant l‚Äôouverture.";
      }

      Object.keys(games).forEach(key => {
        updateCardState(key);
        updateDifficultyLocks(key);
      });

      // progression sur √©crans
      document.getElementById("reflexScore").textContent = `Progression : ${progressionLabel("reflex")}`;
      document.getElementById("memoryScore").textContent = `Progression : ${progressionLabel("memory")}`;
      document.getElementById("quizScore").textContent = `Progression : ${progressionLabel("quiz")}`;
      document.getElementById("anagramScore").textContent = `Progression : ${progressionLabel("anagram")}`;
      document.getElementById("codeScore").textContent = `Progression : ${progressionLabel("code")}`;
      document.getElementById("clickerScore").textContent = `Progression : ${progressionLabel("clicker")}`;
      document.getElementById("presidentScore").textContent = `Progression : ${progressionLabel("presidents")}`;
      document.getElementById("equitationScore").textContent = `Progression : ${progressionLabel("equitation")}`;
      document.getElementById("tanaScore").textContent = `Progression : ${progressionLabel("tana")}`;
      document.getElementById("soupeScore").textContent = `Progression : ${progressionLabel("soupe")}`;
      document.getElementById("pigeonScore").textContent = `Progression : ${progressionLabel("pigeon")}`;
      document.getElementById("tempoScore").textContent = `Progression : ${progressionLabel("tempo")}`;
    }

    // Navigation jeux
    const screens = Array.from(document.querySelectorAll(".game-screen"));
    const hubView = document.getElementById("hubView");

    function showHub() {
      screens.forEach(s => s.classList.add("hidden"));
      hubView.classList.remove("hidden");
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function goToGame(id) {
      hubView.classList.add("hidden");
      screens.forEach(s => s.classList.add("hidden"));
      const target = document.getElementById(`screen-${id}`);
      if (target) {
        target.classList.remove("hidden");
        target.scrollIntoView({ behavior: "smooth" });
      }
    }

    document.querySelectorAll('[data-game]').forEach(btn => {
      btn.addEventListener("click", () => goToGame(btn.dataset.game));
    });

    document.getElementById("backFromReflex").addEventListener("click", showHub);
    document.getElementById("backFromMemory").addEventListener("click", showHub);
    document.getElementById("backFromQuiz").addEventListener("click", showHub);
    document.getElementById("backFromAnagram").addEventListener("click", showHub);
    document.getElementById("backFromCode").addEventListener("click", showHub);
    document.getElementById("backFromClicker").addEventListener("click", showHub);
    document.getElementById("backFromPresidents").addEventListener("click", showHub);
    document.getElementById("backFromEquitation").addEventListener("click", showHub);
    document.getElementById("backFromTana").addEventListener("click", showHub);
    document.getElementById("backFromSoupe").addEventListener("click", showHub);
    document.getElementById("backFromPigeon").addEventListener("click", showHub);
    document.getElementById("backFromTempo").addEventListener("click", showHub);

    onDifficultyChange("presidents", renderPresidents);
    onDifficultyChange("code", resetCode);
    onDifficultyChange("soupe", resetSoupe);
    onDifficultyChange("pigeon", resetPigeon);
    onDifficultyChange("tempo", updateTempoTarget);
    onDifficultyChange("anagram", () => { configureAnagramGoal(true); loadAnagram(true); });
    onDifficultyChange("memory", () => { resetMemory(); memoryStatus.textContent = "En attente"; memoryStatus.classList.remove("success"); memoryStatus.classList.add("pending"); });
    onDifficultyChange("reflex", () => { resetReflex(); reflexStatus.textContent = "En attente"; reflexStatus.classList.remove("success"); reflexStatus.classList.add("pending"); });
    onDifficultyChange("equitation", () => { equitationStatus.textContent = "En attente"; equitationStatus.classList.remove("success"); });
    onDifficultyChange("quiz", () => { quizStatus.textContent = "En attente"; quizStatus.classList.remove("success"); quizQuestion.textContent = "Pr√™t √† commencer ?"; quizOptions.innerHTML = ""; quizStartBtn.disabled = false; });
    onDifficultyChange("clicker", resetClicker);
    onDifficultyChange("tana", () => { tanaStatus.textContent = "En attente"; tanaStatus.classList.remove("success"); tanaActive = false; });

    finalButton.addEventListener("click", () => {
      if (finalButton.disabled) return;
      window.location.href = "finale.html";
    });

    if (devButton) {
      devButton.addEventListener("click", () => {
        const answer = prompt("Mot de passe d√©veloppeur ?");
        if (answer === null) return;
        if (answer === "Yuucheat") {
          const choice = prompt("Mode d√©veloppeur :\n1 ‚Ä¢ Valider tous les niveaux\n2 ‚Ä¢ R√©initialiser toute la progression\n(Annuler pour quitter)");
          if (choice === "1") {
            unlockAllGames();
            alert("Mode d√©veloppeur : tous les mini-jeux sont maintenant valid√©s.");
          } else if (choice === "2") {
            resetAllGames();
          }
        } else {
          alert("Acc√®s refus√©.");
        }
      });
    }

    function getSelectedDifficulty(gameKey) {
      const input = document.querySelector(`input[name="${gameKey}-difficulty"]:checked`);
      const chosen = input ? input.value : "facile";
      return isDifficultyUnlocked(gameKey, chosen) ? chosen : "facile";
    }

    function autoAdvanceDifficulty(gameKey) {
      const next = nextPendingDifficulty(gameKey);
      if (!next) {
        updateDifficultyLocks(gameKey);
        return;
      }
      const radios = Array.from(document.querySelectorAll(`input[name="${gameKey}-difficulty"]`));
      const targetRadio = radios.find(r => r.value === next);
      if (targetRadio) {
        targetRadio.checked = true;
      }
      updateDifficultyLocks(gameKey);
    }

    function applyScore(gameKey, _base, diffKey) {
      if (!isDifficultyUnlocked(gameKey, diffKey)) return 0;
      if (!state.tiers[gameKey]) state.tiers[gameKey] = { facile: false, normal: false, difficile: false };
      state.tiers[gameKey][diffKey] = true;
      state.completed[gameKey] = highestCleared(gameKey);
      saveState();
      updateScoreboard();
      autoAdvanceDifficulty(gameKey);
      return 0;
    }

    // R√©flexe √©clair
    const reflexStartBtn = document.getElementById("reflexStart");
    const reflexTarget = document.getElementById("reflexTarget");
    const reflexStatus = document.getElementById("reflexStatus");
    let reflexTimeout;
    let reflexStartTime = 0;
    let reflexReady = false;

    function resetReflex() {
      clearTimeout(reflexTimeout);
      reflexReady = false;
      reflexTarget.textContent = "Attends le signal‚Ä¶";
      reflexTarget.classList.remove("active", "correct", "wrong");
      reflexStartBtn.disabled = false;
    }

    reflexStartBtn.addEventListener("click", () => {
      resetReflex();
      reflexStatus.textContent = "Pr√©pare-toi‚Ä¶";
      reflexStatus.classList.remove("success");
      reflexStatus.classList.add("pending");
      reflexStartBtn.disabled = true;
      reflexTimeout = setTimeout(() => {
        reflexTarget.textContent = "Clique maintenant !";
        reflexTarget.classList.add("active");
        reflexReady = true;
        reflexStartTime = performance.now();
      }, 1000 + Math.random() * 2000);
    });

    reflexTarget.addEventListener("click", () => {
      if (!reflexReady) {
        reflexStatus.textContent = "Trop t√¥t !";
        reflexStatus.classList.remove("success");
        reflexStatus.classList.add("pending");
        resetReflex();
        return;
      }
      const reaction = performance.now() - reflexStartTime;
      reflexTarget.classList.remove("active");
      reflexReady = false;
      const diffKey = getSelectedDifficulty("reflex");
      const limit = diffKey === "facile" ? 900 : diffKey === "normal" ? 650 : 450;
      if (reaction <= limit) {
        reflexStatus.textContent = `Valid√© : ${Math.round(reaction)} ms`;
        reflexStatus.classList.add("success");
        applyScore("reflex", 0, diffKey);
      } else {
        reflexStatus.textContent = `Un peu lent (${Math.round(reaction)} ms) ‚Äî retente !`;
        reflexStatus.classList.remove("success");
      }
      reflexStartBtn.disabled = false;
    });

    // M√©moire chroma
    const memoryColors = ["cyan", "rose", "indigo", "lime"];
    const memoryStatus = document.getElementById("memoryStatus");
    const memoryStartBtn = document.getElementById("memoryStart");
    const memoryTiles = Array.from(document.querySelectorAll("#memoryBoard .tile"));
    let memorySequence = [];
    let memoryStep = 0;
    let memoryActive = false;

    function colorToStyle(color) {
      const map = {
        cyan: "rgba(34,211,238,0.28)",
        rose: "rgba(244,114,182,0.28)",
        indigo: "rgba(99,102,241,0.28)",
        lime: "rgba(163,230,53,0.28)",
      };
      return map[color] || "rgba(124,58,237,0.25)";
    }

    function flashTile(tile) {
      const original = tile.style.backgroundColor;
      tile.style.backgroundColor = colorToStyle(tile.dataset.color);
      setTimeout(() => { tile.style.backgroundColor = original; }, 450);
    }

    function playSequence(seq) {
      seq.forEach((color, idx) => {
        const tile = memoryTiles.find(t => t.dataset.color === color);
        setTimeout(() => flashTile(tile), idx * 650);
      });
    }

    function resetMemory() {
      memoryActive = false;
      memoryStep = 0;
      memorySequence = [];
      memoryTiles.forEach(t => t.classList.remove("correct", "wrong"));
    }

    memoryStartBtn.addEventListener("click", () => {
      resetMemory();
      const diffKey = getSelectedDifficulty("memory");
      const length = diffKey === "facile" ? 4 : diffKey === "normal" ? 6 : 8;
      memorySequence = Array.from({ length }, () => memoryColors[Math.floor(Math.random() * memoryColors.length)]);
      playSequence(memorySequence);
      memoryStatus.textContent = "Reproduis la s√©quence";
      memoryStatus.classList.remove("success");
      memoryStatus.classList.add("pending");
      memoryActive = true;
    });

    memoryTiles.forEach(tile => {
      tile.addEventListener("click", () => {
        if (!memoryActive) return;
        flashTile(tile);
        const expected = memorySequence[memoryStep];
        const chosen = tile.dataset.color;
        memoryStep++;
        if (chosen !== expected) {
          tile.classList.add("wrong");
          memoryStatus.textContent = "Rat√©, essaie encore !";
          memoryStatus.classList.remove("success");
          memoryActive = false;
          return;
        }
        if (memoryStep === memorySequence.length) {
          tile.classList.add("correct");
          memoryStatus.textContent = "S√©quence valid√©e !";
          memoryStatus.classList.add("success");
          const diffKey = getSelectedDifficulty("memory");
          applyScore("memory", 0, diffKey);
          memoryActive = false;
        }
      });
    });

    // Quiz
    const quizStartBtn = document.getElementById("quizStart");
    const quizStatus = document.getElementById("quizStatus");
    const quizQuestion = document.getElementById("quizQuestion");
    const quizOptions = document.getElementById("quizOptions");
    const quizQuestions = [
      { q: "Combien de mini-jeux doivent √™tre valid√©s pour d√©bloquer la r√©compense ?", options: ["6", "9", "12"], answer: "12" },
      { q: "Comment est stock√©e ta progression ?", options: ["Dans ton navigateur", "Sur un serveur externe", "Elle n'est pas sauvegard√©e"], answer: "Dans ton navigateur" },
      { q: "Quel mini-jeu demande du r√©flexe ?", options: ["YuukaFlash", "Yuukroissance", "Yuuk√©blique Fran√ßaise"], answer: "YuukaFlash" },
      { q: "Combien de niveaux de difficult√© par jeu ?", options: ["1", "2", "3"], answer: "3" },
      { q: "Quel mini-jeu te fait nourrir un personnage ?", options: ["Yuukroissance", "Yuukquine", "Yuugeon"], answer: "Yuukroissance" },
      { q: "Le bouton final s'ouvre quand...", options: ["Tout est valid√©", "Il est 18h", "Tu cliques 50 fois"], answer: "Tout est valid√©" },
    ];
    let currentQuizIndex = 0;
    let correctAnswers = 0;
    let quizActive = false;
    let quizTarget = 4;

    function renderQuizQuestion() {
      const { q, options } = quizQuestions[currentQuizIndex];
      quizQuestion.textContent = q;
      quizOptions.innerHTML = "";
      options.forEach(opt => {
        const btn = document.createElement("button");
        btn.className = "btn";
        btn.textContent = opt;
        btn.addEventListener("click", () => handleQuizAnswer(opt));
        quizOptions.appendChild(btn);
      });
    }

    function handleQuizAnswer(choice) {
      if (!quizActive) return;
      const current = quizQuestions[currentQuizIndex];
      if (choice === current.answer) correctAnswers++;
      currentQuizIndex++;
      if (currentQuizIndex >= quizTarget) {
        const diffKey = getSelectedDifficulty("quiz");
        const needsPerfect = diffKey !== "facile";
        const needed = diffKey === "facile" ? quizTarget - 1 : quizTarget;
        const perfect = correctAnswers === quizTarget;
        if ((needsPerfect && perfect) || (!needsPerfect && correctAnswers >= needed)) {
          quizStatus.textContent = needsPerfect ? "Sans faute exig√©e : r√©ussi !" : `${correctAnswers}/${quizTarget} valid√© en facile`;
          quizStatus.classList.add("success");
          applyScore("quiz", 0, diffKey);
        } else {
          quizStatus.textContent = `${correctAnswers}/${quizTarget} ‚Äî r√©essaie`; 
          quizStatus.classList.remove("success");
        }
        saveState();
        updateScoreboard();
        quizActive = false;
        quizQuestion.textContent = "Quiz termin√©, rejoue pour am√©liorer ton score.";
        quizOptions.innerHTML = "";
        quizStartBtn.disabled = false;
        return;
      }
      renderQuizQuestion();
    }

    quizStartBtn.addEventListener("click", () => {
      const diffKey = getSelectedDifficulty("quiz");
      quizTarget = diffKey === "facile" ? 4 : diffKey === "normal" ? 5 : 6;
      currentQuizIndex = 0;
      correctAnswers = 0;
      quizActive = true;
      quizStatus.textContent = "En cours‚Ä¶";
      quizStatus.classList.remove("success");
      quizStatus.classList.add("pending");
      quizStartBtn.disabled = true;
      renderQuizQuestion();
    });

    // Anagramme
    const anagramWords = ["yuuka", "yuukaflash", "yuukwizz", "yuukagram", "yuukode", "yuukadash", "yuukonline", "equitation", "yuukeblique", "yuugeon", "yuukroissance", "tempo", "yuuutana", "chrono", "tapotepigeon", "bolsoupe", "modegalop", "anniversaireyuuka"];
    const anagramScramble = document.getElementById("anagramScramble");
    const anagramInput = document.getElementById("anagramInput");
    const anagramStatus = document.getElementById("anagramStatus");
    const anagramNextBtn = document.getElementById("anagramNext");
    const anagramCheckBtn = document.getElementById("anagramCheck");
    let currentAnagram = "";
    let anagramSolved = 0;
    let anagramGoal = 1;

    function shuffleWord(word) {
      return word.split("").sort(() => Math.random() - 0.5).join("").toUpperCase();
    }

    function configureAnagramGoal(resetCounter = true) {
      const diffKey = getSelectedDifficulty("anagram");
      anagramGoal = diffKey === "facile" ? 2 : diffKey === "normal" ? 3 : 4;
      if (resetCounter) anagramSolved = 0;
    }

    function loadAnagram(resetCounter = false) {
      const diffKey = getSelectedDifficulty("anagram");
      const pool = anagramWords.filter(w => {
        if (diffKey === "facile") return w.length <= 6;
        if (diffKey === "normal") return w.length <= 9;
        return w.length >= 8;
      });
      currentAnagram = pool[Math.floor(Math.random() * pool.length)];
      anagramScramble.textContent = shuffleWord(currentAnagram);
      anagramInput.value = "";
      anagramStatus.textContent = "En attente";
      anagramStatus.classList.remove("success");
      anagramStatus.classList.add("pending");
      if (resetCounter) configureAnagramGoal(true);
    }

    anagramCheckBtn.addEventListener("click", () => {
      const guess = anagramInput.value.trim().toLowerCase();
      if (!guess) return;
      if (guess === currentAnagram) {
        anagramSolved++;
        anagramStatus.textContent = anagramSolved >= anagramGoal ? "Anagrammes valid√©s !" : `Trouv√© ! Plus que ${anagramGoal - anagramSolved} mot(s).`;
        anagramStatus.classList.add("success");
        const diffKey = getSelectedDifficulty("anagram");
        if (anagramSolved >= anagramGoal) {
          applyScore("anagram", 0, diffKey);
          anagramSolved = 0;
          loadAnagram(true);
        } else {
          loadAnagram();
        }
      } else {
        anagramStatus.textContent = "Rat√©, r√©essaie ou passe √† un autre mot.";
        anagramStatus.classList.remove("success");
      }
    });

    anagramNextBtn.addEventListener("click", () => loadAnagram());

    // Yuukode (guess)
    const codeStatus = document.getElementById("codeStatus");
    const codeInput = document.getElementById("codeInput");
    const codeTryBtn = document.getElementById("codeTry");
    const codeRestartBtn = document.getElementById("codeRestart");
    let secretCode = 0;
    let codeAttempts = 0;
    let codeMax = 20;
    let codeLimit = 5;

    function resetCode() {
      const diffKey = getSelectedDifficulty("code");
      codeMax = diffKey === "facile" ? 20 : diffKey === "normal" ? 35 : 50;
      codeLimit = diffKey === "facile" ? 7 : diffKey === "normal" ? 6 : 5;
      secretCode = 1 + Math.floor(Math.random() * codeMax);
      codeAttempts = 0;
      codeInput.value = "";
      codeInput.max = codeMax;
      codeStatus.textContent = `Nouveau code entre 1 et ${codeMax}.`;
      codeStatus.classList.remove("success");
      codeStatus.classList.add("pending");
    }

    codeTryBtn.addEventListener("click", () => {
      const val = parseInt(codeInput.value, 10);
      if (Number.isNaN(val)) return;
      codeAttempts++;
      if (val === secretCode) {
        const diffKey = getSelectedDifficulty("code");
        codeStatus.textContent = `Code trouv√© en ${codeAttempts} essais !`;
        codeStatus.classList.add("success");
        applyScore("code", 0, diffKey);
      } else if (codeAttempts >= codeLimit) {
        codeStatus.textContent = `Perdu ! Le code √©tait ${secretCode}. Relance.`;
        codeStatus.classList.remove("success");
      } else {
        codeStatus.textContent = val < secretCode ? "Plus haut" : "Plus bas";
        codeStatus.classList.remove("success");
      }
    });

    codeRestartBtn.addEventListener("click", resetCode);

    // Clicker
    const clickerStart = document.getElementById("clickerStart");
    const clickerTap = document.getElementById("clickerTap");
    const clickerTimer = document.getElementById("clickerTimer");
    const clickerCount = document.getElementById("clickerCount");
    const clickerStatus = document.getElementById("clickerStatus");
    let clickerClicks = 0;
    let clickerTimeLeft = 10;
    let clickerInterval;
    let clickerActive = false;

    function resetClicker() {
      clearInterval(clickerInterval);
      clickerClicks = 0;
      clickerTimeLeft = 10;
      clickerActive = false;
      clickerCount.textContent = "0 clic";
      clickerTimer.textContent = "10s";
      clickerStatus.textContent = "En attente";
      clickerStatus.classList.remove("success");
      clickerStatus.classList.add("pending");
      clickerTap.disabled = true;
    }

    clickerStart.addEventListener("click", () => {
      resetClicker();
      clickerActive = true;
      clickerTap.disabled = false;
      clickerStatus.textContent = "Go !";
      clickerInterval = setInterval(() => {
        clickerTimeLeft--;
        clickerTimer.textContent = `${clickerTimeLeft}s`;
        if (clickerTimeLeft <= 0) {
          clearInterval(clickerInterval);
          clickerActive = false;
          clickerTap.disabled = true;
          const diffKey = getSelectedDifficulty("clicker");
          const target = diffKey === "facile" ? 18 : diffKey === "normal" ? 30 : 42;
          if (clickerClicks >= target) {
            clickerStatus.textContent = `Valid√© : ${clickerClicks} clics`;
            clickerStatus.classList.add("success");
            applyScore("clicker", 0, diffKey);
          } else {
            clickerStatus.textContent = `Seulement ${clickerClicks} clics, retente !`;
            clickerStatus.classList.remove("success");
          }
        }
      }, 1000);
    });

    clickerTap.addEventListener("click", () => {
      if (!clickerActive) return;
      clickerClicks++;
      clickerCount.textContent = `${clickerClicks} clic${clickerClicks > 1 ? "s" : ""}`;
    });

    // Chrono pr√©sidents
    const presidentList = document.getElementById("presidentList");
    const presidentStatus = document.getElementById("presidentStatus");
    const presidentCheck = document.getElementById("presidentCheck");
    const presidentsData = [
      { name: "Charles de Gaulle", years: "1959-1969", note: "Constitution de 1962" },
      { name: "Georges Pompidou", years: "1969-1974", note: "Industrialisation" },
      { name: "Val√©ry Giscard d'Estaing", years: "1974-1981", note: "Abaissement de la majorit√© √† 18 ans" },
      { name: "Fran√ßois Mitterrand", years: "1981-1995", note: "Abolition de la peine de mort" },
      { name: "Jacques Chirac", years: "1995-2007", note: "Non √† la guerre en Irak" },
      { name: "Nicolas Sarkozy", years: "2007-2012", note: "R√©forme des retraites" },
      { name: "Fran√ßois Hollande", years: "2012-2017", note: "Mariage pour tous" },
      { name: "Emmanuel Macron", years: "2017-‚Ä¶", note: "Plan France Relance" },
    ].map(p => ({ ...p, firstName: p.name.split(" ")[0] }));

    function shuffleOptions(list) {
      return [...list].sort(() => Math.random() - 0.5);
    }

    function renderPresidents() {
      presidentList.innerHTML = "";
      const diffKey = getSelectedDifficulty("presidents");
      const names = presidentsData.map(p => p.name);
      if (diffKey === "facile") {
        const shuffledNames = shuffleOptions(names);
        presidentsData.forEach((p) => {
          const row = document.createElement("div");
          row.className = "actions";
          row.innerHTML = `<span class="pill-small">${p.years}</span><div class="badge" style="flex:1">Quel pr√©sident ?</div>`;
          const select = document.createElement("select");
          select.dataset.mode = "by-date";
          select.dataset.answer = p.name;
          select.innerHTML = `<option value="">Choisis‚Ä¶</option>${shuffleOptions(shuffledNames).map(n => `<option value="${n}">${n}</option>`).join("")}`;
          row.appendChild(select);
          presidentList.appendChild(row);
        });
      } else if (diffKey === "normal") {
        const shuffled = shuffleOptions(names);
        presidentsData.slice(0, presidentsData.length - 1).forEach((p, idx) => {
          const row = document.createElement("div");
          row.className = "actions";
          const successor = presidentsData[idx + 1].name;
          row.innerHTML = `<div class="badge" style="flex:1">Qui succ√®de √† <strong>${p.name}</strong> ?</div>`;
          const select = document.createElement("select");
          select.dataset.mode = "successor";
          select.dataset.answer = successor;
          select.innerHTML = `<option value=\"\">Choisis‚Ä¶</option>${shuffleOptions(shuffled).map(n => `<option value="${n}">${n}</option>`).join("")}`;
          row.appendChild(select);
          presidentList.appendChild(row);
        });
      } else {
        const shuffled = shuffleOptions(names);
        presidentsData.forEach((p) => {
          const row = document.createElement("div");
          row.className = "actions";
          row.innerHTML = `<div class="badge" style="flex:1">Pr√©nom : <strong>${p.firstName}</strong> ‚Ä¢ Fait : ${p.note} ‚Ä¢ Mandat : ${p.years}</div>`;
          const select = document.createElement("select");
          select.dataset.mode = "full-match";
          select.dataset.answer = p.name;
          select.innerHTML = `<option value=\"\">Choisis‚Ä¶</option>${shuffleOptions(shuffled).map(n => `<option value="${n}">${n}</option>`).join("")}`;
          row.appendChild(select);
          presidentList.appendChild(row);
        });
      }
      presidentStatus.textContent = "En attente";
      presidentStatus.classList.remove("success");
    }

    presidentCheck.addEventListener("click", () => {
      const diffKey = getSelectedDifficulty("presidents");
      let errors = 0;
      const selects = Array.from(presidentList.querySelectorAll("select"));
      selects.forEach((sel) => {
        const mode = sel.dataset.mode;
        const value = sel.value;
        if (!value) { errors++; return; }
        if (mode === "by-date" && value !== sel.dataset.answer) errors++;
        if (mode === "successor" && value !== sel.dataset.answer) errors++;
        if (mode === "full-match" && value !== sel.dataset.answer) errors++;
      });

      const tolerance = 0;
      if (errors <= tolerance && selects.length) {
        presidentStatus.textContent = errors === 0 ? "Lien valid√© !" : "Tu laisses passer une micro-erreur mais √ßa passe.";
        presidentStatus.classList.add("success");
        applyScore("presidents", 0, diffKey);
      } else {
        presidentStatus.textContent = `${errors} r√©ponse(s) fausse(s) : consolide la chronologie.`;
        presidentStatus.classList.remove("success");
      }
    });

    // Equitation
    const equitationPrompt = document.getElementById("equitationPrompt");
    const equitationStatus = document.getElementById("equitationStatus");
    const equitationStart = document.getElementById("equitationStart");
    const equitationButtons = Array.from(document.querySelectorAll('#screen-equitation [data-gait]'));
    const equitationSituations = [
      { text: "Approche d'un obstacle bas", answer: "Trot" },
      { text: "Grande ligne droite en ext√©rieur", answer: "Galop" },
      { text: "D√©tente en carri√®re", answer: "Pas" },
      { text: "Travail sur un cercle", answer: "Trot" },
      { text: "Derni√®re foul√©e avant un oxer", answer: "Galop" },
      { text: "Passage d'un gu√©", answer: "Pas" },
    ];
    let equitationRound = 0;
    let equitationTarget = 3;
    let equitationScore = 0;
    let equitationActive = false;

    function startEquitation() {
      const diffKey = getSelectedDifficulty("equitation");
      equitationTarget = diffKey === "facile" ? 3 : diffKey === "normal" ? 5 : 6;
      equitationRound = 0;
      equitationScore = 0;
      equitationActive = true;
      equitationStatus.textContent = "En cours‚Ä¶";
      equitationStatus.classList.remove("success");
      nextEquitation();
    }

    function nextEquitation() {
      if (!equitationActive) return;
      if (equitationRound >= equitationTarget) {
        const diffKey = getSelectedDifficulty("equitation");
        if (equitationScore === equitationTarget) {
          equitationStatus.textContent = "Parcours valid√© !";
          equitationStatus.classList.add("success");
          applyScore("equitation", 0, diffKey);
        } else {
          equitationStatus.textContent = `${equitationScore}/${equitationTarget} corrects`;
          equitationStatus.classList.remove("success");
        }
        equitationActive = false;
        return;
      }
      const situation = equitationSituations[Math.floor(Math.random() * equitationSituations.length)];
      equitationPrompt.textContent = situation.text;
      equitationPrompt.dataset.answer = situation.answer;
      equitationRound++;
    }

    equitationStart.addEventListener("click", startEquitation);
    equitationButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        if (!equitationActive) return;
        const choice = btn.dataset.gait;
        if (choice === equitationPrompt.dataset.answer) equitationScore++;
        nextEquitation();
      });
    });

    // Yuutana
    const tanaStart = document.getElementById("tanaStart");
    const tanaQuestion = document.getElementById("tanaQuestion");
    const tanaOptions = document.getElementById("tanaOptions");
    const tanaStatus = document.getElementById("tanaStatus");
    const tanaScenarios = [
      { q: "Un type lourd insiste pour t'offrir un verre alors que tu as d√©j√† dit non.", options: ["Tu acceptes pour √™tre polie", "Tu d√©clines fermement et rejoins tes potes", "Tu l'embrasses pour qu'il parte"], answer: "Tu d√©clines fermement et rejoins tes potes" },
      { q: "Un inconnu te colle en bo√Æte et te glisse 'allez, viens danser coll√© serr√©'.", options: ["Tu dis non en rigolant et changes de piste", "Tu restes coinc√©e par peur de vexer", "Tu lui racontes toute ta vie"], answer: "Tu dis non en rigolant et changes de piste" },
      { q: "Un pseudo 'ami' envoie des DM √† 2h du mat ¬´ t'es r√©veill√©e ? ¬ª", options: ["Tu r√©ponds direct et tu files ton adresse", "Tu ignores ou tu cadres le truc gentiment", "Tu l'invites √† venir voir ta collection de mugs"], answer: "Tu ignores ou tu cadres le truc gentiment" },
      { q: "Un gars te dit \"t'es mignonne quand tu t'√©nerves\" apr√®s une remarque sexiste.", options: ["Tu banalises et tu souris", "Tu expliques calmement que c'est lourd et tu mets une limite", "Tu l'ajoutes sur ta to-do liste de dates"], answer: "Tu expliques calmement que c'est lourd et tu mets une limite" },
      { q: "Pendant un date, il insiste pour rentrer chez toi alors que tu dis non.", options: ["Tu changes de trottoir et tu le laisses l√†", "Tu c√®des pour pas faire de vagues", "Tu proposes un FaceTime collectif avec tes potes"], answer: "Tu changes de trottoir et tu le laisses l√†" },
    ];
    let tanaIndex = 0;
    let tanaCorrect = 0;
    let tanaTarget = 3;
    let tanaActive = false;

    function renderTanaQuestion() {
      const { q, options } = tanaScenarios[tanaIndex];
      tanaQuestion.textContent = q;
      tanaOptions.innerHTML = "";
      options.forEach(opt => {
        const btn = document.createElement("button");
        btn.className = "btn";
        btn.textContent = opt;
        btn.addEventListener("click", () => handleTana(opt));
        tanaOptions.appendChild(btn);
      });
    }

    function handleTana(choice) {
      if (!tanaActive) return;
      const correct = tanaScenarios[tanaIndex].answer;
      if (choice === correct) {
        tanaCorrect++;
        tanaStatus.textContent = "Classe !";
      } else {
        tanaStatus.textContent = "Nan l√† t‚Äôes une grosse tana ahah";
      }
      tanaIndex++;
      if (tanaIndex >= tanaTarget) {
        const diffKey = getSelectedDifficulty("tana");
        const needed = diffKey === "facile" ? 2 : diffKey === "normal" ? 3 : 4;
        if (tanaCorrect >= needed) {
          tanaStatus.textContent = `${tanaCorrect}/${tanaTarget} valid√© !`;
          tanaStatus.classList.add("success");
          applyScore("tana", 0, diffKey);
        } else {
          tanaStatus.textContent += ` (${tanaCorrect}/${tanaTarget})`;
          tanaStatus.classList.remove("success");
        }
        tanaActive = false;
        return;
      }
      renderTanaQuestion();
    }

    tanaStart.addEventListener("click", () => {
      const diffKey = getSelectedDifficulty("tana");
      tanaTarget = diffKey === "facile" ? 3 : diffKey === "normal" ? 4 : 5;
      tanaIndex = 0;
      tanaCorrect = 0;
      tanaActive = true;
      tanaStatus.textContent = "En cours‚Ä¶";
      tanaStatus.classList.remove("success");
      renderTanaQuestion();
    });

    // Soupe
    const soupeStatus = document.getElementById("soupeStatus");
    const soupeHeight = document.getElementById("soupeHeight");
    const soupeInfo = document.getElementById("soupeInfo");
    const soupeFeed = document.getElementById("soupeFeed");
    const soupeReset = document.getElementById("soupeReset");
    const soupeGirl = document.getElementById("soupeGirl");
    const soupeBowl = document.getElementById("soupeBowl");
    let soupeCurrent = 1.3;
    let soupeTarget = 1.5;
    let soupeRemaining = 7;

    function refreshSoupeTexts() {
      soupeHeight.textContent = `Taille actuelle : ${soupeCurrent.toFixed(2)} m`;
      soupeInfo.textContent = `Objectif : ${soupeTarget.toFixed(2)} m ‚Ä¢ Cuill√®res restantes : ${soupeRemaining}`;
      if (soupeGirl) {
        const growth = 1 + Math.max(0, (soupeCurrent - 1.3) / 0.45) * 0.6;
        soupeGirl.style.setProperty("--growth-scale", growth.toFixed(2));
      }
    }

    function resetSoupe() {
      const diffKey = getSelectedDifficulty("soupe");
      soupeCurrent = 1.3;
      soupeTarget = diffKey === "facile" ? 1.48 : diffKey === "normal" ? 1.6 : 1.72;
      soupeRemaining = diffKey === "facile" ? 7 : diffKey === "normal" ? 6 : 5;
      soupeStatus.textContent = "En attente";
      soupeStatus.classList.remove("success");
      soupeStatus.classList.add("pending");
      if (soupeGirl) soupeGirl.classList.remove("drinking");
      if (soupeBowl) soupeBowl.classList.remove("drinking");
      refreshSoupeTexts();
    }

    function triggerSoupSip() {
      if (soupeGirl) {
        soupeGirl.classList.add("drinking");
        setTimeout(() => soupeGirl.classList.remove("drinking"), 400);
      }
      if (soupeBowl) {
        soupeBowl.classList.add("drinking");
        setTimeout(() => soupeBowl.classList.remove("drinking"), 400);
      }
    }

    soupeFeed.addEventListener("click", () => {
      if (soupeRemaining <= 0) return;
      soupeRemaining--;
      soupeCurrent += 0.05 + Math.random() * 0.08;
      triggerSoupSip();
      if (soupeCurrent >= soupeTarget) {
        soupeCurrent = soupeTarget;
        soupeStatus.textContent = "Bravo, elle a grandi !";
        soupeStatus.classList.add("success");
        const diffKey = getSelectedDifficulty("soupe");
        applyScore("soupe", 0, diffKey);
      } else if (soupeRemaining === 0) {
        soupeStatus.textContent = "Plus de soupe, r√©essaie.";
        soupeStatus.classList.remove("success");
      } else {
        soupeStatus.textContent = "Encore quelques cuill√®res‚Ä¶";
      }
        refreshSoupeTexts();
    });

    soupeReset.addEventListener("click", resetSoupe);
    if (soupeBowl) soupeBowl.addEventListener("click", () => soupeFeed.click());

    // Pigeon
    const pigeonCoo = document.getElementById("pigeonCoo");
    const pigeonStatus = document.getElementById("pigeonStatus");
    const pigeonPet = document.getElementById("pigeonPet");
    const pigeonReset = document.getElementById("pigeonReset");
    const pigeonZone = document.getElementById("pigeonZone");
    let pigeonPets = 0;
    let pigeonTarget = 5;

    function resetPigeon() {
      const diffKey = getSelectedDifficulty("pigeon");
      pigeonTarget = diffKey === "facile" ? 4 : diffKey === "normal" ? 6 : 9;
      pigeonPets = 0;
      pigeonCoo.textContent = `Le pigeon attend une caresse (${pigeonTarget} requises).`;
      pigeonStatus.textContent = "En attente";
      pigeonStatus.classList.remove("success");
      pigeonStatus.classList.add("pending");
    }

    function showTapHand(evt) {
      if (!pigeonZone) return;
      const rect = pigeonZone.getBoundingClientRect();
      const hand = document.createElement("span");
      hand.className = "tap-hand";
      hand.textContent = "ü§ö";
      const x = (evt.offsetX ?? (evt.clientX - rect.left));
      const y = (evt.offsetY ?? (evt.clientY - rect.top));
      hand.style.left = `${x - 15}px`;
      hand.style.top = `${y - 15}px`;
      pigeonZone.appendChild(hand);
      setTimeout(() => hand.remove(), 450);
    }

    function tapPigeon(evt) {
      if (evt) showTapHand(evt);
      pigeonPets++;
      if (pigeonPets >= pigeonTarget) {
        pigeonCoo.textContent = "Roucouuu !";
        pigeonStatus.textContent = "Mission caresse r√©ussie.";
        pigeonStatus.classList.add("success");
        const diffKey = getSelectedDifficulty("pigeon");
        applyScore("pigeon", 0, diffKey);
      } else {
        pigeonCoo.textContent = `Roucoulement ${pigeonPets}/${pigeonTarget}`;
      }
    }

    pigeonPet.addEventListener("click", () => tapPigeon());
    if (pigeonZone) pigeonZone.addEventListener("click", tapPigeon);
    pigeonReset.addEventListener("click", resetPigeon);

    // Tempo
    const tempoToggle = document.getElementById("tempoToggle");
    const tempoStatus = document.getElementById("tempoStatus");
    const tempoTarget = document.getElementById("tempoTarget");
    let tempoRunning = false;
    let tempoStartTime = 0;

    function updateTempoTarget() {
      const diffKey = getSelectedDifficulty("tempo");
      tempoTarget.dataset.target = diffKey === "facile" ? 2.5 : diffKey === "normal" ? 2.2 : 1.8;
      tempoTarget.textContent = `Tempo cible : ${tempoTarget.dataset.target}s`;
      tempoStatus.textContent = "En attente";
      tempoStatus.classList.remove("success");
      tempoStatus.classList.add("pending");
      tempoToggle.textContent = "D√©marrer";
      tempoRunning = false;
    }

    tempoToggle.addEventListener("click", () => {
      if (!tempoRunning) {
        tempoRunning = true;
        tempoStartTime = performance.now();
        tempoStatus.textContent = "Top‚Ä¶";
        tempoToggle.textContent = "Arr√™ter";
      } else {
        const diffKey = getSelectedDifficulty("tempo");
        tempoRunning = false;
        const elapsed = (performance.now() - tempoStartTime) / 1000;
        const target = parseFloat(tempoTarget.dataset.target || "2.5");
        const delta = Math.abs(elapsed - target);
        const tolerance = diffKey === "facile" ? 0.6 : diffKey === "normal" ? 0.4 : 0.25;
        if (delta <= tolerance) {
          tempoStatus.textContent = `Parfait ! (${elapsed.toFixed(2)}s)`;
          tempoStatus.classList.add("success");
          applyScore("tempo", 0, diffKey);
        } else {
          tempoStatus.textContent = `Rat√© de ${delta.toFixed(2)}s (tu as fait ${elapsed.toFixed(2)}s)`;
          tempoStatus.classList.remove("success");
        }
        tempoToggle.textContent = "D√©marrer";
      }
    });

    // Init
    loadState();
    renderPresidents();
    configureAnagramGoal(true);
    loadAnagram(true);
    resetCode();
    resetClicker();
    resetSoupe();
    resetPigeon();
    updateTempoTarget();
    updateScoreboard();
    showHub();
    quizQuestion.textContent = "Pr√™t √† commencer ?";
  </script>
  <script type="module" src="app.js"></script>
</body>
</html>
